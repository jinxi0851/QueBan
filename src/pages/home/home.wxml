<!-- é¦–é¡µæ¨¡æ¿ -->
<view class="container">
  <!-- é¡¶éƒ¨å›¾ç‰‡ -->
  <view class="daily-image-container">
    <image 
      class="daily-image" 
      src="{{dailyImage}}" 
      mode="aspectFill"
      bindtap="shareMenu"
    />
    <view class="image-overlay">
      <text class="overlay-text">QueBanå¥³ç‹ç››å®´</text>
    </view>
  </view>

  <!-- ä¿çš®è¯ -->
  <view class="sweet-message" wx:if="{{sweetMessage}}">
    <text class="message-text">{{sweetMessage}}</text>
  </view>

  <!-- ç”Ÿæˆèœå•æŒ‰é’® -->
  <view class="generate-section">
    <button 
      class="btn btn-primary generate-btn" 
      bindtap="generateMenu"
      disabled="{{loading}}"
    >
      <text wx:if="{{loading}}">ç”Ÿæˆä¸­...</text>
      <text wx:else>ç”Ÿæˆä»Šæ—¥èœå•</text>
    </button>
    <view class="remaining-count">
      <text class="count-text">ä»Šæ—¥å‰©ä½™æ¬¡æ•°ï¼š{{remainingCount}}</text>
    </view>
  </view>

  <!-- èœå•å±•ç¤º -->
  <view class="menu-display" wx:if="{{menu}}">
    <view class="card menu-card">
      <view class="menu-header">
        <text class="menu-name">{{menu.name}}</text>
        <view class="menu-tags">
          <text 
            class="tag" 
            wx:for="{{menu.tags}}" 
            wx:key="index"
          >
            {{item}}
          </text>
        </view>
      </view>
      
      <view class="dishes-list">
        <view 
          class="dish-item" 
          wx:for="{{menu.dishes}}" 
          wx:key="index"
        >
          <view class="dish-info">
            <text class="dish-name">{{item.name}}</text>
            <view class="dish-meta">
              <text class="dish-time">{{item.time}}</text>
              <text class="dish-difficulty">{{item.difficulty}}</text>
            </view>
            <view class="dish-tags">
              <text 
                class="dish-tag" 
                wx:for="{{item.tags}}" 
                wx:key="tagIndex"
                wx:for-item="tagItem"
              >
                {{tagItem}}
              </text>
            </view>
          </view>
        </view>
      </view>
      
      <view class="menu-footer">
        <text class="total-time">æ€»è€—æ—¶ï¼š{{menu.totalTime}}</text>
        <view class="action-buttons">
          <button 
            class="action-btn like-btn {{isLiked ? 'liked' : ''}}" 
            bindtap="toggleLike"
          >
            <text class="btn-icon">â™¥</text>
            <text class="btn-text">ç‚¹èµ</text>
          </button>
          <button class="action-btn share-btn" bindtap="shareMenu">
            <text class="btn-icon">â†—</text>
            <text class="btn-text">åˆ†äº«</text>
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="quick-actions">
    <view class="card">
      <view class="section-title">
        <text class="title-text">å¿«æ·æ“ä½œ</text>
      </view>
      <view class="action-grid">
        <view class="action-item" bindtap="navigateToMyDishes">
          <text class="action-icon">ğŸ³</text>
          <text class="action-text">æˆ‘çš„æ‹¿æ‰‹èœ</text>
        </view>
        <view class="action-item" bindtap="navigateToSquare">
          <text class="action-icon">ğŸ›ï¸</text>
          <text class="action-text">ç¾é£Ÿå¹¿åœº</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨ç”Ÿæˆä¸“å±èœå•...</text>
  </view>
</view>