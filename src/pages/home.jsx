// @ts-ignore;
import React, { useState, useEffect } from 'react';
// @ts-ignore;
import { useToast, Button, Card, CardContent, CardHeader, CardTitle } from '@/components/ui';
// @ts-ignore;
import { RefreshCw, Heart, Send, Sparkles, UtensilsCrossed } from 'lucide-react';

export default function Home(props) {
  const {
    $w
  } = props;
  const {
    toast
  } = useToast();
  const [menu, setMenu] = useState(null);
  const [loading, setLoading] = useState(false);
  const [isLiked, setIsLiked] = useState(false);
  const [user, setUser] = useState(null);
  const [remainingCount, setRemainingCount] = useState(5);
  const [sweetMessage, setSweetMessage] = useState('');
  const [dailyImage, setDailyImage] = useState('');

  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  // 预设家常菜库
  const menuDatabase = [{
    name: '温馨家常套餐',
    dishes: [{
      name: '番茄炒蛋',
      tags: ['家常', '快手'],
      difficulty: '简单',
      time: '10分钟'
    }, {
      name: '蒜蓉西兰花',
      tags: ['清淡', '健康'],
      difficulty: '简单',
      time: '8分钟'
    }, {
      name: '冬瓜排骨汤',
      tags: ['汤品', '营养'],
      difficulty: '简单',
      time: '1小时'
    }],
    tags: ['家常', '营养', '温馨'],
    totalTime: '1小时20分钟'
  }, {
    name: '经典下饭菜',
    dishes: [{
      name: '红烧肉',
      tags: ['经典', '下饭'],
      difficulty: '中等',
      time: '45分钟'
    }, {
      name: '麻婆豆腐',
      tags: ['川菜', '下饭'],
      difficulty: '简单',
      time: '20分钟'
    }, {
      name: '白灼菜心',
      tags: ['清淡', '快手'],
      difficulty: '简单',
      time: '5分钟'
    }],
    tags: ['经典', '下饭', '川菜'],
    totalTime: '1小时10分钟'
  }, {
    name: '清淡营养套餐',
    dishes: [{
      name: '清蒸鲈鱼',
      tags: ['清淡', '营养'],
      difficulty: '简单',
      time: '15分钟'
    }, {
      name: '蒸蛋羹',
      tags: ['清淡', '营养'],
      difficulty: '简单',
      time: '10分钟'
    }, {
      name: '清炒时蔬',
      tags: ['清淡', '健康'],
      difficulty: '简单',
      time: '8分钟'
    }],
    tags: ['清淡', '营养', '健康'],
    totalTime: '35分钟'
  }, {
    name: '川菜经典组合',
    dishes: [{
      name: '宫保鸡丁',
      tags: ['川菜', '经典'],
      difficulty: '中等',
      time: '25分钟'
    }, {
      name: '鱼香肉丝',
      tags: ['川菜', '下饭'],
      difficulty: '中等',
      time: '20分钟'
    }, {
      name: '回锅肉',
      tags: ['川菜', '经典'],
      difficulty: '中等',
      time: '25分钟'
    }],
    tags: ['川菜', '经典', '下饭'],
    totalTime: '1小时10分钟'
  }, {
    name: '快手简单餐',
    dishes: [{
      name: '番茄炒蛋',
      tags: ['家常', '快手'],
      difficulty: '简单',
      time: '10分钟'
    }, {
      name: '酸辣土豆丝',
      tags: ['家常', '快手'],
      difficulty: '简单',
      time: '10分钟'
    }, {
      name: '蛋炒饭',
      tags: ['快手', '主食'],
      difficulty: '简单',
      time: '10分钟'
    }],
    tags: ['快手', '简单', '主食'],
    totalTime: '30分钟'
  }, {
    name: '创意美味套餐',
    dishes: [{
      name: '可乐鸡翅',
      tags: ['创意', '下饭'],
      difficulty: '简单',
      time: '30分钟'
    }, {
      name: '糖醋排骨',
      tags: ['酸甜', '经典'],
      difficulty: '中等',
      time: '40分钟'
    }, {
      name: '凉拌黄瓜',
      tags: ['凉菜', '快手'],
      difficulty: '简单',
      time: '5分钟'
    }],
    tags: ['创意', '酸甜', '下饭'],
    totalTime: '1小时15分钟'
  }, {
    name: '家常下饭组合',
    dishes: [{
      name: '青椒肉丝',
      tags: ['家常', '下饭'],
      difficulty: '简单',
      time: '15分钟'
    }, {
      name: '红烧茄子',
      tags: ['下饭', '经典'],
      difficulty: '中等',
      time: '30分钟'
    }, {
      name: '水煮肉片',
      tags: ['川菜', '下饭'],
      difficulty: '中等',
      time: '30分钟'
    }],
    tags: ['家常', '下饭', '经典'],
    totalTime: '1小时15分钟'
  }]; // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  // 俏皮话库
  const sweetMessages = ['今天辛苦啦，给你做顿好吃的~', '这道菜超适合今天的你！', '猜猜今天吃什么？惊喜来啦~', '为你准备的专属菜单，请查收~', '今天也要好好吃饭哦！', '这道菜里有我对你的爱~', '吃饭啦吃饭啦，不许挑食哦~', '今天的菜单，是为你量身定制的！']; // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库
  // 每日精选图片库 - QueBan女王盛宴主题
  const dailyImages = ['https://cersay-0gtnza71ab2663d4-1397510798.tcloudbaseapp.com/resources/2026-02/lowcode-2424451'];
  useEffect(() => {
    loadUserInfo(); // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    // 随机选择一句小情话
    const randomMessage = sweetMessages[Math.floor(Math.random() * sweetMessages.length)];
    setSweetMessage(randomMessage); // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    // 随机选择一张每日图片
    const randomImage = dailyImages[Math.floor(Math.random() * dailyImages.length)];
    setDailyImage(randomImage);
  }, []);
  const loadUserInfo = async () => {
    try {
      const currentUser = $w.auth.currentUser;
      if (currentUser?.userId) {
        setUser(currentUser); // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        // 查询用户剩余次数
        const tcb = await $w.cloud.getCloudInstance();
        const db = tcb.database();
        const result = await db.collection('users').where({
          _openid: tcb.auth().currentUser?.openid
        }).get();
        if (result.data.length > 0) {
          setRemainingCount(result.data[0].remainingCount || 5);
        }
      }
    } catch (error) {
      console.error('加载用户信息失败:', error);
    }
  };
  const generateMenu = async () => {
    // 检查登录状态
    if (!$w.auth.currentUser?.userId) {
      // 跳转到微信一键登录页面
      $w.utils.navigateTo({
        pageId: 'login',
        params: {
          redirect: window.location.href
        }
      });
      return;
    } // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    // 检查剩余次数
    if (remainingCount <= 0) {
      toast({
        title: '今日生成次数已用完',
        description: '升级会员可无限生成菜单，仅需9.9元/月',
        variant: 'destructive'
      });
      return;
    }
    setLoading(true);
    try {
      // 获取用户自建拿手菜
      let userDishes = [];
      try {
        const tcb = await $w.cloud.getCloudInstance();
        const db = tcb.database();
        const userDishesResult = await db.collection('user_dishes').where({
          _openid: tcb.auth().currentUser?.openid
        }).get();
        userDishes = userDishesResult.data || [];
      } catch (error) {
        console.log('获取用户拿手菜失败:', error);
      }

      // 调用菜单生成云函数
      const result = await $w.cloud.callFunction({
        name: 'menuGeneration',
        data: {
          userId: $w.auth.currentUser?.userId,
          userDishes: userDishes
        }
      });
      if (result.result.success) {
        setMenu(result.result.menu);
        setRemainingCount(result.result.remainingCount);
        setIsLiked(false);
        toast({
          title: '菜单生成成功！',
          description: '快看看今天吃什么吧~'
        });
      } else {
        throw new Error(result.result.error);
      }
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      // 扣减次数
      const tcb = await $w.cloud.getCloudInstance();
      const db = tcb.database();
      await db.collection('users').where({
        _openid: tcb.auth().currentUser?.openid
      }).update({
        remainingCount: remainingCount - 1
      });
      setRemainingCount(remainingCount - 1);
      toast({
        title: '菜单生成成功！',
        description: '快看看今天吃什么吧~'
      });
    } catch (error) {
      console.error('生成菜单失败:', error);
      toast({
        title: '生成失败',
        description: '请稍后重试',
        variant: 'destructive'
      });
    } finally {
      setLoading(false);
    }
  };
  const handleLike = () => {
    setIsLiked(!isLiked);
    toast({
      title: isLiked ? '已取消收藏' : '已收藏',
      description: isLiked ? '这道菜已从收藏中移除' : '这道菜已加入收藏'
    });
  };
  const handleSendToPartner = async () => {
    if (!$w.auth.currentUser?.userId) {
      // 跳转到微信一键登录页面
      $w.utils.navigateTo({
        pageId: 'login',
        params: {
          redirect: window.location.href
        }
      });
      return;
    }
    try {
      const tcb = await $w.cloud.getCloudInstance();
      const db = tcb.database(); // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      // 检查是否已绑定关系
      const relationResult = await db.collection('cersay_bind_relations').where({
        _openid: tcb.auth().currentUser?.openid
      }).get();
      if (relationResult.data.length === 0) {
        toast({
          title: '还未绑定伴侣',
          description: '请先在"我的"页面绑定你的另一半~',
          variant: 'destructive'
        });
        return;
      } // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      // 保存到communications表
      await db.collection('cersay_communications').add({
        menu: menu,
        fromUserId: $w.auth.currentUser.userId,
        toUserId: relationResult.data[0].partnerId,
        createTime: new Date().toISOString(),
        isRead: false
      });
      toast({
        title: '发送成功！',
        description: 'TA已经收到你的菜单啦~'
      });
    } catch (error) {
      console.error('发送失败:', error);
      toast({
        title: '发送失败',
        description: '请稍后重试',
        variant: 'destructive'
      });
    }
  };
  return <div className="min-h-screen from-[#FFF5F0] via-[#FFECD9] to-[#FF9A8B]/20 pb-24 bg-white">
      {/* 顶部欢迎区 */}
      <div className="pt-12 pb-8 px-6 animate-fadeIn">
        <h1 className="font-bold text-[#2D3436] mb-2 text-[1.3rem]" style={{
        fontFamily: 'Noto Serif SC, serif'
      }}>

          {user?.nickName ? `${user.nickName}，` : ''}今晚吃什么？
        </h1>
        <p className="text-[#636E72] text-lg">
          {sweetMessage}
        </p>
      </div>

      {/* 每日精选图片 */}
      <div className="px-6 mb-6 animate-fadeIn" style={{
      animationDelay: '0.05s'
    }}>

          <div className="bg-white/60 backdrop-blur-sm rounded-2xl p-4 shadow-sm">
            <img src={dailyImage} alt="每日精选" className="w-full h-auto rounded-xl object-cover" style={{
          minHeight: '200px',
          maxHeight: '400px'
        }} />

          </div>
        </div>

      {/* 剩余次数提示 */}
      {user && <div className="px-6 mb-6 animate-fadeIn" style={{
      animationDelay: '0.1s'
    }}>

          <div className="backdrop-blur-sm rounded-2xl p-4 shadow-sm bg-blue-50">
            <div className="flex items-center justify-between bg-white">
              <span className="text-[#636E72]">今日剩余生成次数</span>
              <span className="font-bold text-lg text-blue-700">{remainingCount}次</span>
            </div>
            {remainingCount <= 2 && <p className="text-xs text-[#FF6B6B] mt-2">次数不多啦，升级会员可无限生成哦~</p>}
          </div>
        </div>}

      {/* 主操作区 */}
      <div className="px-6 bg-white">
        <div className="flex justify-center mb-8 animate-fadeIn" style={{
        animationDelay: '0.2s'
      }}>

          <Button onClick={generateMenu} disabled={loading} className="from-[#FF9A8B] to-[#FF6B6B] hover:from-[#FF8A7B] hover:to-[#FF5A5A] text-white rounded-full px-12 py-6 text-lg shadow-lg hover:shadow-xl transition-all duration-300 button-hover bg-blue-700">
            {loading ? <RefreshCw className="w-6 h-6 animate-spin mr-2" /> : <Sparkles className="w-6 h-6 mr-2" />}
            {loading ? '生成中...' : '随机生成菜单'}
          </Button>
        </div>

        {/* 菜单展示区 */}
        {menu && <div className="animate-fadeIn">
            <Card className="bg-white/80 backdrop-blur-sm shadow-xl border-0 rounded-3xl overflow-hidden card-shadow">
              <CardHeader className="bg-gradient-to-r from-[#FF9A8B]/10 to-[#FF6B6B]/10 pb-4">
                <CardTitle className="text-2xl text-[#2D3436]" style={{
              fontFamily: 'Noto Serif SC, serif'
            }}>

                  {menu.name}
                </CardTitle>
              </CardHeader>
              <CardContent className="pt-6">
                {/* 俏皮话 */}
                <div className="bg-[#FFECD9] rounded-2xl p-4 mb-6">
                  <p className="text-[#2D3436] text-center italic">{menu.message}</p>
                </div>

                {/* 菜品信息 */}
                <div className="grid grid-cols-3 gap-4 mb-6">
                  <div className="text-center">
                    <div className="text-[#FF6B6B] font-bold text-lg">{menu.dishes?.length || 3}</div>
                    <div className="text-[#636E72] text-sm">道菜</div>
                  </div>
                  <div className="text-center">
                    <div className="text-[#FF6B6B] font-bold text-lg">{menu.totalTime}</div>
                    <div className="text-[#636E72] text-sm">总用时</div>
                  </div>
                  <div className="text-center">
                    <div className="text-[#FF6B6B] font-bold text-lg">{menu.tags[0]}</div>
                    <div className="text-[#636E72] text-sm">特色</div>
                  </div>
                </div>
                
                {/* 菜品列表 */}
                <div className="mb-6">
                  <h4 className="text-[#2D3436] font-semibold mb-3">菜品清单：</h4>
                  <div className="space-y-3">
                    {menu.dishes?.map((dish, index) => <div key={index} className="bg-[#FFECD9]/50 rounded-xl p-3">
                        <div className="flex justify-between items-center mb-2">
                          <span className="font-medium text-[#2D3436]">{dish.name}</span>
                          <span className="text-[#FF6B6B] text-sm">{dish.time}</span>
                        </div>
                        <div className="flex justify-between items-center">
                          <div className="flex flex-wrap gap-1">
                            {dish.tags?.map((tag, tagIndex) => <span key={tagIndex} className="bg-white/60 text-[#636E72] px-2 py-1 rounded-full text-xs">
                                {tag}
                              </span>)}
                          </div>
                          <span className="text-[#636E72] text-xs">{dish.difficulty}</span>
                        </div>
                      </div>)}
                  </div>
                </div>

                {/* 标签 */}
                <div className="flex flex-wrap gap-2 mb-6">
                  {menu.tags.map((tag, index) => <span key={index} className="bg-[#FFECD9] text-[#2D3436] px-3 py-1 rounded-full text-sm">
                      {tag}
                    </span>)}
                </div>

                {/* 操作按钮 */}
                <div className="flex gap-3">
                  <Button onClick={handleLike} className={`flex-1 rounded-full ${isLiked ? 'bg-[#FF6B6B] text-white' : 'bg-[#FFECD9] text-[#2D3436] hover:bg-[#FFD9C4]'}`}>
                    <Heart className={`w-5 h-5 mr-2 ${isLiked ? 'fill-current' : ''}`} />
                    {isLiked ? '已收藏' : '收藏'}
                  </Button>
                  <Button onClick={handleSendToPartner} className="flex-1 bg-gradient-to-r from-[#FF9A8B] to-[#FF6B6B] text-white rounded-full hover:shadow-lg transition-all button-hover">
                    <Send className="w-5 h-5 mr-2" />
                    发给TA
                  </Button>
                </div>
              </CardContent>
            </Card>
          </div>}

        {/* 空状态提示 */}
        {!menu && !loading && <div className="text-center py-12 animate-fadeIn" style={{
        animationDelay: '0.3s'
      }}>

            <UtensilsCrossed className="w-16 h-16 mx-auto mb-4 text-blue-700" />
            <p className="text-[#636E72]">点击上方按钮，开始今天的美食之旅吧~</p>
          </div>}
      </div>
    </div>;
}